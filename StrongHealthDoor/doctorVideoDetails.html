<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>视频详情</title>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="css/video.css" />
		<link rel="stylesheet" type="text/css" href="css/bus.css" />
		<link rel="icon" type="text/css" href="favicon.ico" />
	</head>
	<style type="text/css">
		.vjs-poster {
			background-color: #ccc;
		}
		
		h2 {
			margin: 0;
			margin-bottom: 10px;
		}
		#my-player{
			width:960px;
			height: 540px;
		}
	</style>

	<body>
		<iframe class="headif" src="head.html" width="100%" height="55px" onload="load(2)"></iframe>

		<div class="container" id="vievtr" style="padding:0 0 30px 0;">

			<!--<div class="video-con">
				<video class="video" poster="" autoplay="autoplay">
					<source src="video/cxhy.mp4">
				</video>
				<button type="button" class="btn js-play-btn"></button>
			</div>-->
		</div>
		<iframe class="videtas" src="foot.html" width="100%" height="170px"></iframe>

		<script src="js/jquery-3.3.1.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/bus.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/video.js" type="text/javascript" charset="utf-8"></script>

		<script type="text/javascript">
			var vid = getUrlParam("vid");

			/*视频专区内容渲染*/
			$.ajax({
				type: "get",
				url: "json/video.json",
				async: false,
				success: function(result) {
					videoShow(result);

				},
				error: function(data) {
					console.log("读取失败!");
				}

			});


			/*渲染视频专区方法*/
			function videoShow(result) {
				var resall = result.data.reverse();
				//截取后台数据前6条展示
				var res = resall;
				var con = "";
				$.each(res, function(i, v) {
					if(v.id == vid) {
						con += '<div class="video-con video-all">' +
							'<h2>' + v.name + '</h2>' +
							'<video id="my-player" class="video video-js vjs-big-play-centered"  autoplay="autoplay" controls poster="" width="1000" height="560">' +
							'<source src="' + v.src + '" >' +
							'</video>' +
							'</div>';
					}

				});
				$("#vievtr").append(con);

				//禁用video标签右键功能
				$("video").on("contextmenu", function() {
					return false;
				});
			}
		</script>
	</body>

</html>